{"remainingRequest":"D:\\001JavaTools\\001Java项目\\招聘系统\\recruit-system\\recruit-web\\node_modules\\babel-loader\\lib\\index.js!D:\\001JavaTools\\001Java项目\\招聘系统\\recruit-system\\recruit-web\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\001JavaTools\\001Java项目\\招聘系统\\recruit-system\\recruit-web\\src\\component\\notify\\observer.js","dependencies":[{"path":"D:\\001JavaTools\\001Java项目\\招聘系统\\recruit-system\\recruit-web\\src\\component\\notify\\observer.js","mtime":1706286066000},{"path":"D:\\001JavaTools\\001Java项目\\招聘系统\\recruit-system\\recruit-web\\babel.config.js","mtime":1706286066000},{"path":"D:\\001JavaTools\\001Java项目\\招聘系统\\recruit-system\\recruit-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\001JavaTools\\001Java项目\\招聘系统\\recruit-system\\recruit-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\001JavaTools\\001Java项目\\招聘系统\\recruit-system\\recruit-web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n/* eslint-disable*/\nimport Emitter from './emitter';\n\nvar _default = /*#__PURE__*/function () {\n  function _default(connectionUrl) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, _default);\n\n    this.format = opts.format && opts.format.toLowerCase();\n\n    if (connectionUrl.startsWith('//')) {\n      var scheme = window.location.protocol === 'https:' ? 'wss' : 'ws';\n      connectionUrl = \"\".concat(scheme, \":\").concat(connectionUrl);\n    }\n\n    this.connectionUrl = connectionUrl;\n    this.opts = opts;\n    this.reconnection = this.opts.reconnection || false;\n    this.reconnectionAttempts = this.opts.reconnectionAttempts || Infinity;\n    this.reconnectionDelay = this.opts.reconnectionDelay || 1000;\n    this.reconnectTimeoutId = 0;\n    this.reconnectionCount = 0;\n    this.passToStoreHandler = this.opts.passToStoreHandler || false;\n    this.connect(connectionUrl, opts);\n\n    if (opts.store) {\n      this.store = opts.store;\n    }\n\n    if (opts.mutations) {\n      this.mutations = opts.mutations;\n    }\n\n    this.onEvent();\n  }\n\n  _createClass(_default, [{\n    key: \"connect\",\n    value: function connect(connectionUrl) {\n      var _this = this;\n\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var protocol = opts.protocol || '';\n      this.WebSocket = opts.WebSocket || (protocol === '' ? new WebSocket(connectionUrl) : new WebSocket(connectionUrl, protocol));\n\n      if (this.format === 'json') {\n        if (!('sendObj' in this.WebSocket)) {\n          this.WebSocket.sendObj = function (obj) {\n            return _this.WebSocket.send(JSON.stringify(obj));\n          };\n        }\n      }\n\n      return this.WebSocket;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      var _this2 = this;\n\n      if (this.reconnectionCount <= this.reconnectionAttempts) {\n        this.reconnectionCount++;\n        clearTimeout(this.reconnectTimeoutId);\n        this.reconnectTimeoutId = setTimeout(function () {\n          if (_this2.store) {\n            _this2.passToStore('SOCKET_RECONNECT', _this2.reconnectionCount);\n          }\n\n          _this2.connect(_this2.connectionUrl, _this2.opts);\n\n          _this2.onEvent();\n        }, this.reconnectionDelay);\n      } else if (this.store) {\n        this.passToStore('SOCKET_RECONNECT_ERROR', true);\n      }\n    }\n  }, {\n    key: \"onEvent\",\n    value: function onEvent() {\n      var _this3 = this;\n\n      ;\n      ['onmessage', 'onclose', 'onerror', 'onopen'].forEach(function (eventType) {\n        _this3.WebSocket[eventType] = function (event) {\n          Emitter.emit(eventType, event);\n\n          if (_this3.store) {\n            _this3.passToStore(\"SOCKET_\".concat(eventType), event);\n          }\n\n          if (_this3.reconnection && eventType === 'onopen') {\n            _this3.opts.$setInstance(event.currentTarget);\n\n            _this3.reconnectionCount = 0;\n          }\n\n          if (_this3.reconnection && eventType === 'onclose') {\n            _this3.reconnect();\n          }\n        };\n      });\n    }\n  }, {\n    key: \"passToStore\",\n    value: function passToStore(eventName, event) {\n      if (this.passToStoreHandler) {\n        this.passToStoreHandler(eventName, event, this.defaultPassToStore.bind(this));\n      } else {\n        this.defaultPassToStore(eventName, event);\n      }\n    }\n  }, {\n    key: \"defaultPassToStore\",\n    value: function defaultPassToStore(eventName, event) {\n      if (!eventName.startsWith('SOCKET_')) {\n        return;\n      }\n\n      var method = 'commit';\n      var target = eventName.toUpperCase();\n      var msg = event;\n\n      if (this.format === 'json' && event.data) {\n        msg = JSON.parse(event.data);\n\n        if (msg.mutation) {\n          target = [msg.namespace || '', msg.mutation].filter(function (e) {\n            return !!e;\n          }).join('/');\n        } else if (msg.action) {\n          method = 'dispatch';\n          target = [msg.namespace || '', msg.action].filter(function (e) {\n            return !!e;\n          }).join('/');\n        }\n      }\n\n      if (this.mutations) {\n        target = this.mutations[target] || target;\n      }\n\n      this.store[method](target, msg);\n    }\n  }]);\n\n  return _default;\n}();\n\nexport { _default as default };",{"version":3,"names":["Emitter","connectionUrl","opts","format","toLowerCase","startsWith","scheme","window","location","protocol","reconnection","reconnectionAttempts","Infinity","reconnectionDelay","reconnectTimeoutId","reconnectionCount","passToStoreHandler","connect","store","mutations","onEvent","WebSocket","sendObj","obj","send","JSON","stringify","clearTimeout","setTimeout","passToStore","forEach","eventType","event","emit","$setInstance","currentTarget","reconnect","eventName","defaultPassToStore","bind","method","target","toUpperCase","msg","data","parse","mutation","namespace","filter","e","join","action"],"sources":["D:/001JavaTools/001Java项目/招聘系统/recruit-system/recruit-web/src/component/notify/observer.js"],"sourcesContent":["/* eslint-disable*/\nimport Emitter from './emitter'\n\nexport default class {\n  constructor(connectionUrl, opts = {}) {\n    this.format = opts.format && opts.format.toLowerCase()\n\n    if (connectionUrl.startsWith('//')) {\n      const scheme = window.location.protocol === 'https:' ? 'wss' : 'ws'\n      connectionUrl = `${scheme}:${connectionUrl}`\n    }\n\n    this.connectionUrl = connectionUrl\n    this.opts = opts\n\n    this.reconnection = this.opts.reconnection || false\n    this.reconnectionAttempts = this.opts.reconnectionAttempts || Infinity\n    this.reconnectionDelay = this.opts.reconnectionDelay || 1000\n    this.reconnectTimeoutId = 0\n    this.reconnectionCount = 0\n\n    this.passToStoreHandler = this.opts.passToStoreHandler || false\n\n    this.connect(connectionUrl, opts)\n\n    if (opts.store) {\n      this.store = opts.store\n    }\n    if (opts.mutations) {\n      this.mutations = opts.mutations\n    }\n    this.onEvent()\n  }\n\n  connect(connectionUrl, opts = {}) {\n    const protocol = opts.protocol || ''\n    this.WebSocket =\n      opts.WebSocket || (protocol === '' ? new WebSocket(connectionUrl) : new WebSocket(connectionUrl, protocol))\n    if (this.format === 'json') {\n      if (!('sendObj' in this.WebSocket)) {\n        this.WebSocket.sendObj = obj => this.WebSocket.send(JSON.stringify(obj))\n      }\n    }\n\n    return this.WebSocket\n  }\n\n  reconnect() {\n    if (this.reconnectionCount <= this.reconnectionAttempts) {\n      this.reconnectionCount++\n      clearTimeout(this.reconnectTimeoutId)\n\n      this.reconnectTimeoutId = setTimeout(() => {\n        if (this.store) {\n          this.passToStore('SOCKET_RECONNECT', this.reconnectionCount)\n        }\n\n        this.connect(this.connectionUrl, this.opts)\n        this.onEvent()\n      }, this.reconnectionDelay)\n    } else if (this.store) {\n      this.passToStore('SOCKET_RECONNECT_ERROR', true)\n    }\n  }\n\n  onEvent() {\n    ;['onmessage', 'onclose', 'onerror', 'onopen'].forEach(eventType => {\n      this.WebSocket[eventType] = event => {\n        Emitter.emit(eventType, event)\n\n        if (this.store) {\n          this.passToStore(`SOCKET_${eventType}`, event)\n        }\n\n        if (this.reconnection && eventType === 'onopen') {\n          this.opts.$setInstance(event.currentTarget)\n          this.reconnectionCount = 0\n        }\n\n        if (this.reconnection && eventType === 'onclose') {\n          this.reconnect()\n        }\n      }\n    })\n  }\n\n  passToStore(eventName, event) {\n    if (this.passToStoreHandler) {\n      this.passToStoreHandler(eventName, event, this.defaultPassToStore.bind(this))\n    } else {\n      this.defaultPassToStore(eventName, event)\n    }\n  }\n\n  defaultPassToStore(eventName, event) {\n    if (!eventName.startsWith('SOCKET_')) {\n      return\n    }\n    let method = 'commit'\n    let target = eventName.toUpperCase()\n    let msg = event\n    if (this.format === 'json' && event.data) {\n      msg = JSON.parse(event.data)\n      if (msg.mutation) {\n        target = [msg.namespace || '', msg.mutation].filter(e => !!e).join('/')\n      } else if (msg.action) {\n        method = 'dispatch'\n        target = [msg.namespace || '', msg.action].filter(e => !!e).join('/')\n      }\n    }\n    if (this.mutations) {\n      target = this.mutations[target] || target\n    }\n    this.store[method](target, msg)\n  }\n}\n"],"mappings":"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"}]}